<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="title">Arguments &amp; Options</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <header class="site-header">
        <nav class="nav-container">
            <a href="/" class="logo">zcli</a>
            <div class="nav-links">
                <a href="/quickstart/">Quickstart</a>
                <a href="/docs/">Documentation</a>
                <a href="https://github.com/ryanhair/zcli">GitHub</a>
            </div>
        </nav>
    </header>

    <main id="main">
    <div class="docs-container">
        <aside class="docs-sidebar">
            <nav class="docs-nav">
                <div class="nav-section">
                    <h4>Getting Started</h4>
                    <ul>
                        <li><a href="/quickstart/">Quickstart</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h4>Core Concepts</h4>
                    <ul>
                        <li><a href="/docs/commands/">Commands</a></li>
                        <li><a href="/docs/options/">Arguments &amp; Options</a></li>
                        <li><a href="/docs/aliases/">Command Aliases</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h4>Advanced</h4>
                    <ul>
                        <li><a href="/docs/plugins/">Plugin System</a></li>
                        <li><a href="/docs/build-system/">Build System</a></li>
                        <li><a href="/docs/shared-modules/">Shared Modules</a></li>
                        <li><a href="/docs/c-dependencies/">C/C++ Dependencies</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h4>Reference</h4>
                    <ul>
                        <li><a href="/docs/error-handling/">Error Handling</a></li>
                    </ul>
                </div>
            </nav>
        </aside>

        <article class="docs-content">
            <header class="docs-header">
                <h1>Arguments &amp; Options</h1>
            </header>
            <div class="docs-body">
                <p>zcli provides type-safe argument and option parsing through your <code>Args</code> and <code>Options</code> structs.</p><h2>Positional Arguments</h2><p>Define positional arguments with an <code>Args</code> struct:</p><pre><code class="zig"><span class="keyword_modifier">pub</span> <span class="keyword">const</span> <span class="constant variable_builtin type variable">Args</span> <span class="operator">=</span> <span class="keyword_type">struct</span> <span class="punctuation_bracket">{</span>
    <span class="constant variable_builtin type variable_member variable">source</span><span class="punctuation_delimiter">:</span> <span class="punctuation_bracket">[</span><span class="punctuation_bracket">]</span><span class="keyword">const</span> <span class="type_builtin">u8</span><span class="punctuation_delimiter">,</span>              <span class="comment_documentation comment spell">// Required</span>
    <span class="constant variable_builtin type variable_member variable">destination</span><span class="punctuation_delimiter">:</span> <span class="operator">?</span><span class="punctuation_bracket">[</span><span class="punctuation_bracket">]</span><span class="keyword">const</span> <span class="type_builtin">u8</span><span class="punctuation_delimiter">,</span>        <span class="comment_documentation comment spell">// Optional</span>
    <span class="constant variable_builtin type variable_member variable">files</span><span class="punctuation_delimiter">:</span> <span class="punctuation_bracket">[</span><span class="punctuation_bracket">]</span><span class="punctuation_bracket">[</span><span class="punctuation_bracket">]</span><span class="keyword">const</span> <span class="type_builtin">u8</span><span class="punctuation_delimiter">,</span>             <span class="comment_documentation comment spell">// Remaining args as array</span>
<span class="punctuation_bracket">}</span><span class="punctuation_delimiter">;</span>

<span class="comment_documentation comment spell">// Usage: myapp copy source.txt dest.txt file1.txt file2.txt</span>
</code></pre>
<h3>Argument Types</h3><ul><li><strong>Required</strong>: Regular field type (<code>[]const u8</code>, <code>u32</code>, etc.)</li><li><strong>Optional</strong>: Wrap with <code>?</code> (<code>?[]const u8</code>)</li><li><strong>Variadic</strong>: Use slice type (<code>[][]const u8</code>) - must be last</li></ul><h3>Supported Types</h3><ul><li>Strings: <code>[]const u8</code></li><li>Integers: <code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code>, <code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code></li><li>Floats: <code>f32</code>, <code>f64</code></li><li>Booleans: <code>bool</code></li></ul><h2>Options (Flags)</h2><p>Define options with an <code>Options</code> struct:</p><pre><code class="zig"><span class="keyword_modifier">pub</span> <span class="keyword">const</span> <span class="constant variable_builtin type variable">Options</span> <span class="operator">=</span> <span class="keyword_type">struct</span> <span class="punctuation_bracket">{</span>
    <span class="constant variable_builtin type variable_member variable">verbose</span><span class="punctuation_delimiter">:</span> <span class="type_builtin">bool</span> <span class="operator">=</span> <span class="constant variable_builtin type variable">false</span><span class="punctuation_delimiter">,</span>
    <span class="constant variable_builtin type variable_member variable">count</span><span class="punctuation_delimiter">:</span> <span class="type_builtin">u32</span> <span class="operator">=</span> <span class="number">1</span><span class="punctuation_delimiter">,</span>
    <span class="constant variable_builtin type variable_member variable">output</span><span class="punctuation_delimiter">:</span> <span class="operator">?</span><span class="punctuation_bracket">[</span><span class="punctuation_bracket">]</span><span class="keyword">const</span> <span class="type_builtin">u8</span> <span class="operator">=</span> <span class="constant_builtin">null</span><span class="punctuation_delimiter">,</span>
<span class="punctuation_bracket">}</span><span class="punctuation_delimiter">;</span>

<span class="comment_documentation comment spell">// Usage: myapp command --verbose --count 5 --output file.txt</span>
</code></pre>
<p>All options must have default values.</p><h2>Short Flags</h2><p>Add single-character shortcuts for options:</p><pre><code class="zig"><span class="keyword_modifier">pub</span> <span class="keyword">const</span> <span class="constant variable_builtin type variable">Options</span> <span class="operator">=</span> <span class="keyword_type">struct</span> <span class="punctuation_bracket">{</span>
    <span class="constant variable_builtin type variable_member variable">verbose</span><span class="punctuation_delimiter">:</span> <span class="type_builtin">bool</span> <span class="operator">=</span> <span class="constant variable_builtin type variable">false</span><span class="punctuation_delimiter">,</span>
    <span class="constant variable_builtin type variable_member variable">output</span><span class="punctuation_delimiter">:</span> <span class="operator">?</span><span class="punctuation_bracket">[</span><span class="punctuation_bracket">]</span><span class="keyword">const</span> <span class="type_builtin">u8</span> <span class="operator">=</span> <span class="constant_builtin">null</span><span class="punctuation_delimiter">,</span>
<span class="punctuation_bracket">}</span><span class="punctuation_delimiter">;</span>

<span class="keyword_modifier">pub</span> <span class="keyword">const</span> <span class="constant variable_builtin type variable">meta</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span>
    <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">options</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span>
        <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">verbose</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span> <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">short</span> <span class="operator">=</span> <span class="character">&apos;v&apos;</span> <span class="punctuation_bracket">}</span><span class="punctuation_delimiter">,</span>
        <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">output</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span> <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">short</span> <span class="operator">=</span> <span class="character">&apos;o&apos;</span> <span class="punctuation_bracket">}</span><span class="punctuation_delimiter">,</span>
    <span class="punctuation_bracket">}</span><span class="punctuation_delimiter">,</span>
<span class="punctuation_bracket">}</span><span class="punctuation_delimiter">;</span>

<span class="comment_documentation comment spell">// Usage: myapp process -v -o output.txt</span>
<span class="comment_documentation comment spell">// Usage: myapp process -vo output.txt    (combined)</span>
</code></pre>
<h2>Custom Option Names</h2><p>Override the automatic kebab-case naming:</p><pre><code class="zig"><span class="keyword_modifier">pub</span> <span class="keyword">const</span> <span class="constant variable_builtin type variable">Options</span> <span class="operator">=</span> <span class="keyword_type">struct</span> <span class="punctuation_bracket">{</span>
    <span class="constant variable_builtin type variable_member variable">output_file</span><span class="punctuation_delimiter">:</span> <span class="punctuation_bracket">[</span><span class="punctuation_bracket">]</span><span class="keyword">const</span> <span class="type_builtin">u8</span><span class="punctuation_delimiter">,</span>
    <span class="constant variable_builtin type variable_member variable">max_connections</span><span class="punctuation_delimiter">:</span> <span class="type_builtin">u32</span> <span class="operator">=</span> <span class="number">10</span><span class="punctuation_delimiter">,</span>
<span class="punctuation_bracket">}</span><span class="punctuation_delimiter">;</span>

<span class="keyword_modifier">pub</span> <span class="keyword">const</span> <span class="constant variable_builtin type variable">meta</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span>
    <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">options</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span>
        <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">output_file</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span> <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">name</span> <span class="operator">=</span> <span class="string">&quot;output&quot;</span> <span class="punctuation_bracket">}</span><span class="punctuation_delimiter">,</span>       <span class="comment_documentation comment spell">// --output instead of --output-file</span>
        <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">max_connections</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span> <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">name</span> <span class="operator">=</span> <span class="string">&quot;max-conn&quot;</span> <span class="punctuation_bracket">}</span><span class="punctuation_delimiter">,</span> <span class="comment_documentation comment spell">// --max-conn instead of --max-connections</span>
    <span class="punctuation_bracket">}</span><span class="punctuation_delimiter">,</span>
<span class="punctuation_bracket">}</span><span class="punctuation_delimiter">;</span>
</code></pre>
<h2>Array Options</h2><p>Accumulate multiple values for an option:</p><pre><code class="zig"><span class="keyword_modifier">pub</span> <span class="keyword">const</span> <span class="constant variable_builtin type variable">Options</span> <span class="operator">=</span> <span class="keyword_type">struct</span> <span class="punctuation_bracket">{</span>
    <span class="constant variable_builtin type variable_member variable">include</span><span class="punctuation_delimiter">:</span> <span class="punctuation_bracket">[</span><span class="punctuation_bracket">]</span><span class="punctuation_bracket">[</span><span class="punctuation_bracket">]</span><span class="keyword">const</span> <span class="type_builtin">u8</span> <span class="operator">=</span> <span class="operator">&amp;</span><span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span><span class="punctuation_bracket">}</span><span class="punctuation_delimiter">,</span>    <span class="comment_documentation comment spell">// Can specify --include multiple times</span>
    <span class="constant variable_builtin type variable_member variable">exclude</span><span class="punctuation_delimiter">:</span> <span class="punctuation_bracket">[</span><span class="punctuation_bracket">]</span><span class="punctuation_bracket">[</span><span class="punctuation_bracket">]</span><span class="keyword">const</span> <span class="type_builtin">u8</span> <span class="operator">=</span> <span class="operator">&amp;</span><span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span><span class="punctuation_bracket">}</span><span class="punctuation_delimiter">,</span>
    <span class="constant variable_builtin type variable_member variable">verbose</span><span class="punctuation_delimiter">:</span> <span class="type_builtin">bool</span> <span class="operator">=</span> <span class="constant variable_builtin type variable">false</span><span class="punctuation_delimiter">,</span>
<span class="punctuation_bracket">}</span><span class="punctuation_delimiter">;</span>

<span class="comment_documentation comment spell">// Usage: myapp process --include *.zig --include *.md --exclude test.zig</span>
</code></pre>
<h2>Option Descriptions</h2><p>Document options with the metadata:</p><pre><code class="zig"><span class="keyword_modifier">pub</span> <span class="keyword">const</span> <span class="constant variable_builtin type variable">meta</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span>
    <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">description</span> <span class="operator">=</span> <span class="string">&quot;Process files&quot;</span><span class="punctuation_delimiter">,</span>
    <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">options</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span>
        <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">verbose</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span>
            <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">short</span> <span class="operator">=</span> <span class="character">&apos;v&apos;</span><span class="punctuation_delimiter">,</span>
            <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">description</span> <span class="operator">=</span> <span class="string">&quot;Enable verbose output&quot;</span>
        <span class="punctuation_bracket">}</span><span class="punctuation_delimiter">,</span>
        <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">output</span> <span class="operator">=</span> <span class="punctuation_delimiter">.</span><span class="punctuation_bracket">{</span>
            <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">short</span> <span class="operator">=</span> <span class="character">&apos;o&apos;</span><span class="punctuation_delimiter">,</span>
            <span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">description</span> <span class="operator">=</span> <span class="string">&quot;Output file path&quot;</span>
        <span class="punctuation_bracket">}</span><span class="punctuation_delimiter">,</span>
    <span class="punctuation_bracket">}</span><span class="punctuation_delimiter">,</span>
<span class="punctuation_bracket">}</span><span class="punctuation_delimiter">;</span>
</code></pre>
<h2>Error Handling</h2><p>zcli provides rich, contextual error messages automatically:</p><pre><code class="bash"><span class="constant operator function">$</span><span class="constant function"> </span><span class="constant property function">myapp</span> <span class="constant">deploy</span> <span class="constant">prod</span> <span class="constant">--replicas</span> <span class="constant">abc</span>
<span class="constant function">Error:</span> <span class="constant">Invalid</span> <span class="constant">value</span> <span class="string constant">&apos;abc&apos;</span> <span class="constant">for</span> <span class="constant">option</span> <span class="string constant">&apos;--replicas&apos;</span>
<span class="constant function">Expected:</span> <span class="constant">unsigned</span> <span class="constant">integer</span>

<span class="constant operator function">$</span><span class="constant function"> </span><span class="constant property function">myapp</span> <span class="constant">deploi</span> <span class="constant">production</span>
<span class="constant function">Error:</span> <span class="constant">Command</span> <span class="string constant">&apos;deploi&apos;</span> <span class="constant">not</span> <span class="constant">found</span>

<span class="constant function">Did</span> <span class="constant">you</span> <span class="constant">mean?</span>
    <span class="constant function">deploy</span>
</code></pre>
<h2>No Arguments</h2><p>Use <code>zcli.NoArgs</code> when a command takes no positional arguments:</p><pre><code class="zig"><span class="keyword_modifier">pub</span> <span class="keyword">const</span> <span class="constant variable_builtin type variable">Args</span> <span class="operator">=</span> <span class="constant variable_builtin type variable">zcli</span><span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">NoArgs</span><span class="punctuation_delimiter">;</span>

<span class="keyword_modifier">pub</span> <span class="keyword_function">fn</span> <span class="constant variable_builtin type variable function">execute</span><span class="punctuation_bracket">(</span><span class="constant variable_builtin variable_parameter variable type">_</span><span class="punctuation_delimiter">:</span> <span class="constant variable_builtin type variable">Args</span><span class="punctuation_delimiter">,</span> <span class="constant variable_builtin variable_parameter variable type">options</span><span class="punctuation_delimiter">:</span> <span class="constant variable_builtin type variable">Options</span><span class="punctuation_delimiter">,</span> <span class="constant variable_builtin variable_parameter variable type">context</span><span class="punctuation_delimiter">:</span> <span class="operator">*</span><span class="constant variable_builtin type variable">zcli</span><span class="punctuation_delimiter">.</span><span class="constant variable_builtin type variable_member variable">Context</span><span class="punctuation_bracket">)</span> <span class="operator">!</span><span class="type_builtin">void</span> <span class="punctuation_bracket">{</span>
    <span class="comment_documentation comment spell">// ...</span>
<span class="punctuation_bracket">}</span>
</code></pre>

            </div>
        </article>
    </div>
</main>

    <footer class="site-footer">
        <p>Built with Zig. MIT License.</p>
    </footer>
</body>
</html>
